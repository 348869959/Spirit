{"version":3,"sources":["messages.coffee"],"names":[],"mappings":";AAAA;;;;;AAAA;AAAA,MAAA,WAAA;IAAA;;EAKA,CAAA,GAAI;;EAGE;IAES,kBAAC,EAAD;;;;;MACX,IAAC,CAAA,EAAD,GAAM,CAAA,CAAE,EAAF;MACN,IAAC,CAAA,eAAD,GAAmB,IAAC,CAAA,EAAE,CAAC,IAAJ,CAAS,mBAAT;MACnB,IAAC,CAAA,KAAD,CAAA;IAHW;;uBAKb,KAAA,GAAO,SAAA;MACL,IAAC,CAAA,aAAD,CAAA;MACA,IAAC,CAAA,mBAAD,CAAA;MACA,IAAC,CAAA,eAAe,CAAC,EAAjB,CAAoB,OAApB,EAA6B,IAAC,CAAA,WAA9B;aACA,IAAC,CAAA,eAAe,CAAC,EAAjB,CAAoB,OAApB,EAA6B,IAAC,CAAA,SAA9B;IAJK;;uBAMP,aAAA,GAAe,SAAA;MACb,IAAG,CAAI,IAAC,CAAA,OAAD,CAAA,CAAP;AACE,eADF;;aAGA,IAAC,CAAA,EAAE,CAAC,QAAJ,CAAa,UAAb;IAJa;;uBAMf,mBAAA,GAAqB,SAAA;MACnB,IAAG,CAAI,IAAC,CAAA,OAAD,CAAA,CAAP;AACE,eADF;;aAGA,IAAC,CAAA,eAAe,CAAC,IAAjB,CAAA;IAJmB;;uBAMrB,WAAA,GAAa,SAAC,CAAD;AACX,UAAA;MAAA,CAAA,CAAE,CAAC,CAAC,aAAJ,CACE,CAAC,OADH,CACW,aADX,CAEE,CAAC,IAFH,CAAA;MAIA,WAAA,GAAc,CAAA,CAAE,CAAC,CAAC,aAAJ,CAAkB,CAAC,OAAnB,CAA2B,kBAA3B;MAEd,IAAG,CAAI,IAAC,CAAA,kBAAD,CAAoB,WAApB,CAAP;QACE,WAAW,CAAC,IAAZ,CAAA,EADF;;MAGA,IAAG,CAAI,IAAC,CAAA,kBAAD,CAAoB,IAAC,CAAA,EAArB,CAAP;QACE,IAAC,CAAA,EAAE,CAAC,IAAJ,CAAA,EADF;;IAVW;;uBAeb,kBAAA,GAAoB,SAAC,EAAD;AAClB,UAAA;MAAA,eAAA;;AAAmB;AAAA;aAAA,qCAAA;;cAAuC,CAAC,CAAC,EAAF,CAAK,UAAL;yBAAvC;;AAAA;;;AACnB,aAAO,eAAe,CAAC,MAAhB,GAAyB;IAFd;;uBAIpB,SAAA,GAAW,SAAC,CAAD;MACN,CAAC,CAAC,cAAL,CAAA;MACG,CAAC,CAAC,eAAL,CAAA;IAFS;;uBAKX,OAAA,GAAS,SAAA;AACP,UAAA;MAAA,IAAA,GAAO,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAArB,CAA2B,GAA3B,CAAgC,CAAA,CAAA;AACvC,aAAO,cAAA,IAAU,IAAI,CAAC,MAAL,GAAc;IAFxB;;;;;;EAKX,CAAC,CAAC,EAAE,CAAC,MAAL,CACE;IAAA,QAAA,EAAU,SAAA;aACR,IAAC,CAAA,IAAD,CAAM,SAAA;QACJ,IAAG,CAAI,CAAA,CAAE,IAAF,CAAI,CAAC,IAAL,CAAU,iBAAV,CAAP;iBACE,CAAA,CAAE,IAAF,CAAI,CAAC,IAAL,CAAU,iBAAV,EAAiC,IAAA,QAAA,CAAS,IAAT,CAAjC,EADF;;MADI,CAAN;IADQ,CAAV;GADF;;EAMA,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAd,GAAyB;AApEzB","file":"messages.js","sourceRoot":"/source/","sourcesContent":["###\n  Place the flash message box fixed at the\n  top of the window when the url contains a hash\n###\n\n$ = jQuery\n\n\nclass Messages\n\n  constructor: (el) ->\n    @el = $(el)\n    @allCloseButtons = @el.find('.js-message-close')\n    @setUp()\n\n  setUp: ->\n    @placeMessages()\n    @showAllCloseButtons()\n    @allCloseButtons.on('click', @hideMessage)\n    @allCloseButtons.on('click', @stopClick)\n\n  placeMessages: =>\n    if not @hasHash()\n      return\n\n    @el.addClass('is-fixed')\n\n  showAllCloseButtons: =>\n    if not @hasHash()\n      return\n\n    @allCloseButtons.show()\n\n  hideMessage: (e) =>\n    $(e.currentTarget)\n      .closest('.js-message')\n      .hide()\n\n    $messageSet = $(e.currentTarget).closest('.js-messages-set')\n\n    if not @hasVisibleMessages($messageSet)\n      $messageSet.hide()\n\n    if not @hasVisibleMessages(@el)\n      @el.hide()\n\n    return\n\n  hasVisibleMessages: (el) =>\n    visibleMessages = (e for e in el.find('.js-message') when e.is(\":visible\"))\n    return visibleMessages.length > 0\n\n  stopClick: (e) ->\n    do e.preventDefault\n    do e.stopPropagation\n    return\n\n  hasHash: ->\n    hash = window.location.hash.split(\"#\")[1]\n    return hash? and hash.length > 0\n\n\n$.fn.extend\n  messages: ->\n    @each ->\n      if not $(@).data('plugin_messages')\n        $(@).data('plugin_messages', new Messages(@))\n\n$.fn.messages.Messages = Messages\n"]}