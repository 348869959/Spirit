(function(){var $,Messages,bind=function(fn,me){return function(){return fn.apply(me,arguments)}};$=jQuery,Messages=function(){function Messages(el){this.hasVisibleMessages=bind(this.hasVisibleMessages,this),this.hideMessage=bind(this.hideMessage,this),this.showAllCloseButtons=bind(this.showAllCloseButtons,this),this.placeMessages=bind(this.placeMessages,this),this.el=$(el),this.allCloseButtons=this.el.find(".js-messages-close-button"),this.setUp()}return Messages.prototype.setUp=function(){return this.placeMessages(),this.showAllCloseButtons(),this.allCloseButtons.on("click",this.hideMessage),this.allCloseButtons.on("click",this.stopClick)},Messages.prototype.placeMessages=function(){return this.hasHash()?this.el.addClass("is-fixed"):void 0},Messages.prototype.showAllCloseButtons=function(){return this.hasHash()?this.el.find(".js-messages-close").show():void 0},Messages.prototype.hideMessage=function(e){$(e.currentTarget).closest(".js-messages-set").hide(),this.hasVisibleMessages()||(this.el.hide(),this.el.removeClass("is-fixed"))},Messages.prototype.hasVisibleMessages=function(){return this.el.find(".js-messages-set").is(":visible")},Messages.prototype.stopClick=function(e){e.preventDefault(),e.stopPropagation()},Messages.prototype.hasHash=function(){var hash;return hash=window.location.hash.split("#")[1],null!=hash&&hash.length>0},Messages}(),$.fn.extend({messages:function(){return this.each(function(){return $(this).data("plugin_messages")?void 0:$(this).data("plugin_messages",new Messages(this))})}}),$.fn.messages.Messages=Messages}).call(this);